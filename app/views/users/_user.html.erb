<%= link_to user_path(user), class: "text-decoration-none user-list-item" do %>
  <div class="d-flex align-items-center justify-content-between p-2 border-bottom hover-bg-light">
    <div class="d-flex align-items-center gap-3">
      <%= image_tag(user.avatar.attached? ? user.avatar : "default_avatar.png",
                    class: "rounded-circle shadow-sm",
                    size: "40",
                    alt: "#{user.name}'s avatar") %>
      <div class="d-flex flex-column">
        <span class="text-dark fw-semibold"><%= user.name %></span>
        <small class="text-muted">@<%= user.name %></small>
      </div>
    </div>
    <% if current_user == user %>
      <span class="badge rounded-pill bg-light text-danger border px-3">
        <i class="fas fa-user-check me-1 text-danger"></i>It's You
      </span>
    <% elsif current_user.followings.include?(user) %>
      <span class="badge rounded-pill bg-primary-subtle text-primary border border-primary-subtle px-3">
        <i class="fas fa-user-check me-1"></i>Following
      </span>
    <% else %>
      <span class="badge rounded-pill bg-light text-secondary border px-3">
        <i class="fas fa-user-plus me-1"></i>Not Following
      </span>
    <% end %>
  </div>
<% end %>
